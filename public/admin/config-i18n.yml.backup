# Decap CMS Configuration for UV Agency
# https://decapcms.org/docs/configuration-options/

backend:
  name: git-gateway
  branch: main # Branch to update (master or main)

# Configuración local para desarrollo
local_backend: true # Habilita para dev local con: npx decap-server

# Publicación
publish_mode: editorial_workflow # Draft, In Review, Ready

# Ruta de media (imágenes)
media_folder: "public/images/projects" # Donde se guardan las imágenes subidas
public_folder: "/images/projects" # URL pública para las imágenes

# Configuración i18n
i18n:
  structure: single_file
  locales: [en, es]
  default_locale: en

# Colecciones
collections:
  # Proyectos del Portfolio
  - name: "projects"
    label: "Projects"
    label_singular: "Project"
    folder: "src/data/projects"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    editor:
      preview: false
    fields:
      # ID (único, slug del proyecto)
      - label: "Project ID"
        name: "id"
        widget: "string"
        hint: "URL-friendly ID (e.g., expomascotas, lolla-vibes)"
        pattern: ['^[a-z0-9-]+$', "Solo minúsculas, números y guiones"]

      # Nombre del proyecto
      - label: "Project Name"
        name: "name"
        widget: "string"
        i18n: true

      # Año / Subtítulo
      - label: "Year / Subtitle"
        name: "year"
        widget: "string"
        hint: "Puede ser el año (2024) o un subtítulo (INABA CHURU)"
        i18n: true

      # Categorías
      - label: "Categories"
        name: "categories"
        widget: "select"
        multiple: true
        options:
          - { label: "Integrated", value: "INTEGRATED" }
          - { label: "Event", value: "EVENT" }
          - { label: "Design", value: "DESIGN" }
          - { label: "Music", value: "MUSIC" }
          - { label: "Festival", value: "FESTIVAL" }
          - { label: "Digital", value: "DIGITAL" }

      # Descripción corta
      - label: "Description"
        name: "description"
        widget: "text"
        hint: "Descripción breve para el listado de proyectos"
        i18n: true

      # Cliente
      - label: "Client"
        name: "client"
        widget: "string"
        required: false
        i18n: true

      # Overview (texto largo)
      - label: "Overview"
        name: "overview"
        widget: "markdown"
        hint: "Visión general del proyecto (soporta markdown)"
        i18n: true

      # Ejecución
      - label: "Execution"
        name: "execution"
        widget: "markdown"
        hint: "Detalles de la ejecución del proyecto"
        i18n: true

      # Resultados de Marketing
      - label: "Marketing Results"
        name: "marketingResults"
        widget: "markdown"
        hint: "Resultados y métricas del proyecto"
        i18n: true

      # URL de Video (opcional)
      - label: "Video URL"
        name: "videoUrl"
        widget: "string"
        required: false
        hint: "URL de Vimeo, YouTube o Google Drive"
        pattern: ['^https?://.+', "Debe ser una URL válida"]

      # Imágenes principales
      - label: "Main Images"
        name: "images"
        widget: "list"
        summary: "{{fields.image}}"
        field:
          label: "Image"
          name: "image"
          widget: "image"
          media_folder: "/public/images/projects/{{slug}}"
          public_folder: "/images/projects/{{slug}}"

      # Thumbnails (opcional)
      - label: "Thumbnails"
        name: "thumbnails"
        widget: "list"
        required: false
        field:
          label: "Thumbnail"
          name: "thumbnail"
          widget: "image"

      # Estado del proyecto
      - label: "Coming Soon"
        name: "comingSoon"
        widget: "boolean"
        default: false
        required: false
        hint: "Marcar si el proyecto aún no está disponible"

      - label: "Award Winning"
        name: "awardWinning"
        widget: "boolean"
        default: false
        required: false
        hint: "Marcar si el proyecto ha ganado premios"

      # Emojis (opcional)
      - label: "Emojis"
        name: "emojis"
        widget: "list"
        required: false
        field:
          label: "Emoji"
          name: "emoji"
          widget: "string"

      # Velocidad del carousel
      - label: "Carousel Speed (ms)"
        name: "carouselSpeed"
        widget: "number"
        default: 3000
        required: false
        hint: "Velocidad del carousel en milisegundos"

      # Galería avanzada
      - label: "Gallery"
        name: "gallery"
        widget: "object"
        required: false
        collapsed: true
        fields:
          # Feature Text
          - label: "Feature Text"
            name: "featureText"
            widget: "text"
            required: false
            i18n: true
            hint: "Texto destacado al inicio de la galería"

          # Secciones de la galería
          - label: "Gallery Sections"
            name: "sections"
            widget: "list"
            types:
              # Tipo: Banner
              - label: "Banner Section"
                name: "banner"
                widget: "object"
                fields:
                  - { label: "Type", name: "type", widget: "hidden", default: "banner" }
                  - { label: "Image", name: "image", widget: "image" }
                  - { label: "Alt Text", name: "alt", widget: "string", required: false, i18n: true }
                  - { label: "Aspect Ratio", name: "ratio", widget: "number", required: false, hint: "e.g., 1.5 for 3:2" }
                  - label: "Badge"
                    name: "badge"
                    widget: "object"
                    required: false
                    fields:
                      - { label: "Text", name: "text", widget: "string", i18n: true }
                      - label: "Position"
                        name: "position"
                        widget: "select"
                        options: ["top-left", "top-right", "bottom-left", "bottom-right", "center"]
                        default: "top-left"

              # Tipo: Text Section
              - label: "Text Section"
                name: "textSection"
                widget: "object"
                fields:
                  - { label: "Type", name: "type", widget: "hidden", default: "textSection" }
                  - { label: "Content", name: "content", widget: "markdown", i18n: true }

              # Tipo: Image Grid
              - label: "Image Grid"
                name: "imageGrid"
                widget: "object"
                fields:
                  - { label: "Type", name: "type", widget: "hidden", default: "imageGrid" }
                  - { label: "Columns", name: "columns", widget: "number", default: 2, min: 1, max: 4 }
                  - label: "Images"
                    name: "images"
                    widget: "list"
                    fields:
                      - { label: "Image", name: "src", widget: "image" }
                      - { label: "Alt Text", name: "alt", widget: "string", i18n: true }

              # Tipo: Mixed Grid
              - label: "Mixed Grid"
                name: "mixedGrid"
                widget: "object"
                fields:
                  - { label: "Type", name: "type", widget: "hidden", default: "mixedGrid" }
                  - label: "Portrait Image"
                    name: "portraitImage"
                    widget: "object"
                    fields:
                      - { label: "Image", name: "src", widget: "image" }
                      - { label: "Alt Text", name: "alt", widget: "string", i18n: true }
                  - label: "Grid Images"
                    name: "gridImages"
                    widget: "list"
                    fields:
                      - { label: "Image", name: "src", widget: "image" }
                      - { label: "Alt Text", name: "alt", widget: "string", i18n: true }

  # Lista de Proyectos (para el orden en la homepage)
  - name: "projectsList"
    label: "Projects List (Homepage Order)"
    file: "src/data/projectsList.ts"
    fields:
      - label: "Projects"
        name: "projects"
        widget: "list"
        summary: "{{fields.name}}"
        fields:
          - { label: "Project ID", name: "id", widget: "string" }
          - { label: "Name", name: "name", widget: "string" }
          - { label: "Year", name: "year", widget: "string" }
          - label: "Categories"
            name: "categories"
            widget: "select"
            multiple: true
            options: ["INTEGRATED", "EVENT", "DESIGN", "MUSIC", "FESTIVAL", "DIGITAL"]
          - label: "Images"
            name: "images"
            widget: "list"
            field: { label: "Image", name: "image", widget: "image" }
          - { label: "Coming Soon", name: "comingSoon", widget: "boolean", default: false, required: false }
          - { label: "Award Winning", name: "awardWinning", widget: "boolean", default: false, required: false }
